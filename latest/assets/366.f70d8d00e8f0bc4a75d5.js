"use strict";(self.webpackChunkmetanno=self.webpackChunkmetanno||[]).push([[366],{7366(e,o,t){t.r(o),t.d(o,{Row:()=>X,SELECT_COLUMN_KEY:()=>L,SelectCellFormatter:()=>f,SelectColumn:()=>G,SortableHeaderCell:()=>j,TextEditor:()=>ue,ToggleGroupFormatter:()=>x,ValueFormatter:()=>w,default:()=>ae,useRowSelection:()=>b});var r=t(8893),n=t.n(r);function l(e){var o,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(o=0;o<e.length;o++)e[o]&&(t=l(e[o]))&&(r&&(r+=" "),r+=t);else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}const i=function(){for(var e,o,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(o=l(e))&&(r&&(r+=" "),r+=o);return r};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(null,arguments)}function d(e,o){void 0===o&&(o={});var t=o.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}d("@media (prefers-color-scheme:light){.rnvodz5700-beta7{--color:#000;--border-color:#ddd;--summary-border-color:#aaa;--background-color:#fff;--header-background-color:#f9f9f9;--row-hover-background-color:#f5f5f5;--row-selected-background-color:#dbecfa;--row-selected-hover-background-color:#c9e3f8;--checkbox-color:#005194;--checkbox-focus-color:#61b8ff;--checkbox-disabled-border-color:#ccc;--checkbox-disabled-background-color:#ddd}}@media (prefers-color-scheme:dark){.rnvodz5700-beta7{--color:#ddd;--border-color:#444;--summary-border-color:#555;--background-color:#212121;--header-background-color:#1b1b1b;--row-hover-background-color:#171717;--row-selected-background-color:#1a73bc;--row-selected-hover-background-color:#1768ab;--checkbox-color:#94cfff;--checkbox-focus-color:#c7e6ff;--checkbox-disabled-border-color:#000;--checkbox-disabled-background-color:#333}}.rnvodz5700-beta7.rdg-dark,:root[data-theme=dark] .rnvodz5700-beta7{--color-scheme:dark;--color:#ddd;--border-color:#444;--summary-border-color:#555;--background-color:#212121;--header-background-color:#1b1b1b;--row-hover-background-color:#171717;--row-selected-background-color:#1a73bc;--row-selected-hover-background-color:#1768ab;--checkbox-color:#94cfff;--checkbox-focus-color:#c7e6ff;--checkbox-disabled-border-color:#000;--checkbox-disabled-background-color:#333}.rnvodz5700-beta7.rdg-light,:root[data-theme=light] .rnvodz5700-beta7{--color-scheme:light;--color:#000;--border-color:#ddd;--summary-border-color:#aaa;--background-color:#fff;--header-background-color:#f9f9f9;--row-hover-background-color:#f5f5f5;--row-selected-background-color:#dbecfa;--row-selected-hover-background-color:#c9e3f8;--checkbox-color:#005194;--checkbox-focus-color:#61b8ff;--checkbox-disabled-border-color:#ccc;--checkbox-disabled-background-color:#ddd}.rnvodz5700-beta7{--selection-color:#66afe9;--font-size:1rem;background-color:var(--background-color);border:1px solid var(--border-color);box-sizing:border-box;color:var(--color);color-scheme:var(--color-scheme,light dark);contain:strict;contain:size layout style paint;content-visibility:auto;direction:ltr;font-size:var(--font-size);height:350px;overflow:auto;user-select:none}@supports not (contain:strict){.rnvodz5700-beta7{position:relative;z-index:0}}.rnvodz5700-beta7 *,.rnvodz5700-beta7 :after,.rnvodz5700-beta7 :before{box-sizing:inherit}.vlqv91k700-beta7.r1upfr80700-beta7{cursor:move}",{insertAt:"top"});const a="undefined"==typeof window?r.useEffect:r.useLayoutEffect,s=n().createContext({current:!1});function u(e){const o=(0,r.useRef)(null),t=(0,r.useContext)(s);return a(()=>{var r;e&&t.current&&(null===(r=o.current)||void 0===r||r.focus({preventScroll:!0}))},[e]),{ref:o,tabIndex:e?0:-1}}function f({value:e,isCellSelected:o,disabled:t,onClick:r,onChange:l,"aria-label":c,"aria-labelledby":d}){const{ref:a,tabIndex:s}=u(o);return n().createElement("label",{className:i("rdg-checkbox-label c4l3n6v700-beta7",t&&"rdg-checkbox-label-disabled c1jlcvp4700-beta7")},n().createElement("input",{"aria-label":c,"aria-labelledby":d,ref:a,type:"checkbox",tabIndex:s,className:"rdg-checkbox-input c1bikpmb700-beta7",disabled:t,checked:e,onChange:function(e){l(e.target.checked,e.nativeEvent.shiftKey)},onClick:r}),n().createElement("div",{className:"rdg-checkbox c1eyot7g700-beta7"}))}function w(e){try{return n().createElement(n().Fragment,null,e.row[e.column.key])}catch{return null}}function x({groupKey:e,isExpanded:o,isCellSelected:t,toggleGroup:r}){const{ref:l,tabIndex:i}=u(t),c=o?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return n().createElement("span",{ref:l,className:"rdg-group-cell-content g1vzro7t700-beta7",tabIndex:i,onKeyDown:function({key:e}){"Enter"===e&&r()}},e,n().createElement("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:"rdg-caret c1fsqdic700-beta7","aria-hidden":!0},n().createElement("path",{d:c})))}s.displayName="ActiveContext",d('.c4l3n6v700-beta7{align-items:center;cursor:pointer;display:flex;inset:0;justify-content:center;margin-right:1px;position:absolute}.c1bikpmb700-beta7{all:unset;margin:0;width:0}.c1eyot7g700-beta7{background-color:var(--background-color);border:2px solid var(--border-color);content:"";height:20px;width:20px}.c1bikpmb700-beta7:checked+.c1eyot7g700-beta7{background-color:var(--checkbox-color);box-shadow:inset 0 0 0 4px var(--background-color)}.c1bikpmb700-beta7:focus+.c1eyot7g700-beta7{border-color:var(--checkbox-focus-color)}.c1jlcvp4700-beta7{cursor:default}.c1jlcvp4700-beta7 .c1eyot7g700-beta7{background-color:var(--checkbox-disabled-background-color);border-color:var(--checkbox-disabled-border-color)}',{insertAt:"top"}),d(".g1vzro7t700-beta7{outline:none}.c1fsqdic700-beta7{stroke:currentColor;stroke-width:1.5px;fill:transparent;margin-left:4px;vertical-align:middle}.c1fsqdic700-beta7>path{transition:d .1s}",{insertAt:"top"});const m=(0,r.createContext)(void 0);m.displayName="RowSelectionContext";const g=m.Provider,h=(0,r.createContext)(void 0);h.displayName="RowSelectionChangeContext";const p=h.Provider;function b(){const e=(0,r.useContext)(m),o=(0,r.useContext)(h);if(void 0===e||void 0===o)throw new Error("useRowSelection must be used within DataGrid cells");return[e,o]}function v(e,o,t){const r="function"==typeof e.colSpan?e.colSpan(t):1;if(Number.isInteger(r)&&r>1&&(!e.frozen||e.idx+r-1<=o))return r}function C(e){e.stopPropagation()}d(".cj343x0700-beta7{background-color:inherit;border-bottom:1px solid var(--border-color);border-right:1px solid var(--border-color);contain:strict;contain:size layout style paint;outline:none;overflow:hidden;overflow:clip;padding:0 8px;text-overflow:ellipsis;white-space:nowrap}.cj343x0700-beta7[aria-selected=true]{box-shadow:inset 0 0 0 2px var(--selection-color)}.csofj7r700-beta7{position:sticky;z-index:1}.ch2wcw8700-beta7{box-shadow:2px 0 5px -2px hsla(0,0%,53%,.3)}",{insertAt:"top"});const I=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function y(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function k({key:e,target:o}){return"Tab"===e&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&o.matches(".rdg-editor-container > :only-child, .rdg-editor-container > label:only-child > :only-child")}function R({selectedPosition:e,columns:o,rows:t,isGroupRow:r}){const n=o[e.idx],l=t[e.rowIdx];return!r(l)&&E(n,l)}function E(e,o){return null!=e.editor&&!e.rowGroup&&!1!==("function"==typeof e.editable?e.editable(o):e.editable)}function S({rows:e,summaryRows:o,rowIdx:t,lastFrozenColumnIndex:r,column:n,isGroupRow:l}){if(-1===t)return v(n,r,{type:"HEADER"});if(t>=0&&t<e.length){const o=e[t];return l(o)?void 0:v(n,r,{type:"ROW",row:o})}return o?v(n,r,{type:"SUMMARY",row:o[t-e.length]}):void 0}const{min:z,max:F,floor:A,sign:O}=Math;function D(e){if("function"!=typeof e)throw new Error("Please specify the rowKeyGetter prop to use selection")}function N(e,o){return{gridColumnStart:e.idx+1,gridColumnEnd:void 0!==o?`span ${o}`:void 0,left:e.frozen?`var(--frozen-left-${e.idx})`:void 0}}function M(e,...o){return i("rdg-cell cj343x0700-beta7",...o,e.frozen&&"rdg-cell-frozen csofj7r700-beta7",e.isLastFrozenColumn&&"rdg-cell-frozen-last ch2wcw8700-beta7")}const L="select-row",G={key:L,name:"",width:35,maxWidth:35,resizable:!1,sortable:!1,frozen:!0,headerRenderer:e=>n().createElement(f,{"aria-label":"Select All",isCellSelected:e.isCellSelected,value:e.allRowsSelected,onChange:e.onAllRowsSelectionChange,onClick:C}),formatter:function(e){const[o,t]=b();return n().createElement(f,{"aria-label":"Select",isCellSelected:e.isCellSelected,value:o,onClick:C,onChange:(o,r)=>{t({row:e.row,checked:o,isShiftClick:r})}})},groupFormatter:function(e){const[o,t]=b();return n().createElement(f,{"aria-label":"Select Group",isCellSelected:e.isCellSelected,value:o,onChange:o=>{t({row:e.row,checked:o,isShiftClick:!1})},onClick:C})}};function T({key:e,width:o},t,r){return t.has(e)?t.get(e):"number"==typeof o?o:"string"==typeof o&&/^\d+%$/.test(o)?A(r*parseInt(o,10)/100):void 0}function H(e,{minWidth:o,maxWidth:t},r){return e=F(e,null!=o?o:r),"number"==typeof t?z(e,t):e}function K(e){const o=(0,r.useRef)(e);return(0,r.useEffect)(()=>{o.current=e}),(0,r.useCallback)((...e)=>{o.current(...e)},[])}function P(e){const o=(0,r.useRef)(null),t=(0,r.useRef)(!1),[,n]=(0,r.useState)({}),l=(0,r.useContext)(s);a(()=>{var r;e?t.current?n({}):l.current&&(null===(r=o.current)||void 0===r||r.focus()):t.current=!1},[e]);const i=e&&!t.current;return{ref:o,tabIndex:i?0:-1,onFocus:function(e){e.target!==o.current&&(t.current=!0)}}}function W(e){return{className:-1===e?"rdg-row-selected r1v67ork700-beta7":void 0}}function j({onSort:e,sortDirection:o,priority:t,children:r,isCellSelected:l}){const{ref:i,tabIndex:c}=u(l);return n().createElement("span",{ref:i,tabIndex:c,className:"rdg-header-sort-cell h1j9yp5q700-beta7",onClick:function(o){e(o.ctrlKey||o.metaKey)},onKeyDown:function(o){" "!==o.key&&"Enter"!==o.key||(o.preventDefault(),e(o.ctrlKey||o.metaKey))}},n().createElement("span",{className:"rdg-header-sort-name h1e6at1o700-beta7"},r),n().createElement("span",null,void 0!==o&&n().createElement("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow a1t8izji700-beta7","aria-hidden":!0},n().createElement("path",{d:"ASC"===o?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})),t))}function B({column:e,colSpan:o,isCellSelected:t,onColumnResize:r,allRowsSelected:l,onAllRowsSelectionChange:i,sortColumns:c,onSortColumnsChange:d,selectCell:a,shouldFocusGrid:s}){const{ref:u,tabIndex:f,onFocus:w}=P(t),x=null==c?void 0:c.findIndex(o=>o.columnKey===e.key),m=void 0!==x&&x>-1?c[x]:void 0,g=null==m?void 0:m.direction,h=void 0!==m&&c.length>1?x+1:void 0,p=g&&!h?"ASC"===g?"ascending":"descending":void 0,b=M(e,e.headerCellClass,e.resizable&&"rdg-cell-resizable c6l2wv1700-beta7");function v(o){if(null==d)return;const{sortDescendingFirst:t}=e;if(void 0===m){const r={columnKey:e.key,direction:t?"DESC":"ASC"};d(c&&o?[...c,r]:[r])}else{let r;if((t&&"DESC"===g||!t&&"ASC"===g)&&(r={columnKey:e.key,direction:"ASC"===g?"DESC":"ASC"}),o){const e=[...c];r?e[x]=r:e.splice(x,1),d(e)}else d(r?[r]:[])}}return n().createElement("div",{role:"columnheader","aria-colindex":e.idx+1,"aria-selected":t,"aria-sort":p,"aria-colspan":o,ref:u,tabIndex:s?0:f,className:b,style:N(e,o),onFocus:function(e){w(e),s&&a(0)},onClick:function(){a(e.idx)},onPointerDown:e.resizable?function(o){if("mouse"===o.pointerType&&1!==o.buttons)return;const{currentTarget:t,pointerId:n}=o,{right:l}=t.getBoundingClientRect(),i=l-o.clientX;function c(o){const n=o.clientX+i-t.getBoundingClientRect().left;n>0&&r(e,n)}i>11||(t.setPointerCapture(n),t.addEventListener("pointermove",c),t.addEventListener("lostpointercapture",function e(){t.removeEventListener("pointermove",c),t.removeEventListener("lostpointercapture",e)}))}:void 0},e.headerRenderer?n().createElement(e.headerRenderer,{column:e,sortDirection:g,priority:h,onSort:v,allRowsSelected:l,onAllRowsSelectionChange:i,isCellSelected:t}):e.sortable?n().createElement(j,{onSort:v,sortDirection:g,priority:h,isCellSelected:t},e.name):e.name)}function q({columns:e,allRowsSelected:o,onAllRowsSelectionChange:t,onColumnResize:r,sortColumns:l,onSortColumnsChange:c,lastFrozenColumnIndex:d,selectedCellIdx:a,selectCell:s,shouldFocusGrid:u}){const{className:f}=W(a),w=[];for(let i=0;i<e.length;i++){const f=e[i],x=v(f,d,{type:"HEADER"});void 0!==x&&(i+=x-1),w.push(n().createElement(B,{key:f.key,column:f,colSpan:x,isCellSelected:a===f.idx,onColumnResize:r,allRowsSelected:o,onAllRowsSelectionChange:t,onSortColumnsChange:c,sortColumns:l,selectCell:s,shouldFocusGrid:u&&0===i}))}return n().createElement("div",{role:"row","aria-rowindex":1,tabIndex:-1===a?0:-1,className:i("rdg-header-row h10tskcx700-beta7",f)},w)}d('.r1v67ork700-beta7{outline:none}.r1v67ork700-beta7:after{box-shadow:inset 0 0 0 2px var(--selection-color);content:"";inset:0;pointer-events:none;position:absolute;z-index:2}.r1v67ork700-beta7>.cj343x0700-beta7:first-child{box-shadow:inset 2px 0 0 0 var(--selection-color)}',{insertAt:"top"}),d(".h1j9yp5q700-beta7{cursor:pointer;display:flex}.h1j9yp5q700-beta7:focus{outline:none}.h1e6at1o700-beta7{flex-grow:1;overflow:hidden;overflow:clip;text-overflow:ellipsis}.a1t8izji700-beta7{fill:currentColor}.a1t8izji700-beta7>path{transition:d .1s}",{insertAt:"top"}),d('.c6l2wv1700-beta7{touch-action:none}.c6l2wv1700-beta7:after{bottom:0;content:"";cursor:col-resize;position:absolute;right:0;top:0;width:10px}',{insertAt:"top"}),d(".h10tskcx700-beta7{background-color:var(--header-background-color);contain:strict;contain:size layout style paint;display:grid;font-weight:700;grid-template-columns:var(--template-columns);grid-template-rows:var(--header-row-height);height:var(--header-row-height);line-height:var(--header-row-height);outline:none;position:sticky;top:0;width:var(--row-width);z-index:3}.h10tskcx700-beta7[aria-selected=true]{box-shadow:inset 0 0 0 2px var(--selection-color)}",{insertAt:"top"});const U=(0,r.memo)(q);function $({column:e,colSpan:o,isCellSelected:t,isCellWithinSelectionRange:r,isCopied:l,isDraggedOver:i,row:d,rowIdx:a,dragHandle:s,onRowClick:u,onRowDoubleClick:f,onRowChange:w,selectCell:x,...m}){const{ref:g,tabIndex:h,onFocus:p}=P(t),{cellClass:b}=e,v=M(e,"function"==typeof b?b(d):b,l&&"rdg-cell-copied c6ra8a3700-beta7",i&&"rdg-cell-dragged-over cq910m0700-beta7",r&&"rdg-cell-range-selected cjdi1s6700-beta7");function C(o,t){x(d,e,o,t)}return n().createElement("div",c({role:"gridcell","aria-colindex":e.idx+1,"aria-selected":t,"aria-colspan":o,"aria-readonly":!E(e,d)||void 0,"data-idx":e.idx,"data-rowidx":a,ref:g,tabIndex:h,className:v,style:N(e,o),onClick:function(o){var t;const r=null===(t=e.editorOptions)||void 0===t?void 0:t.editOnClick,n=o.nativeEvent.rdgSelectionHandledOnMouseDown;!r&&n||C(r,o.shiftKey),null==u||u(d,e)},onDoubleClick:function(){C(!0),null==f||f(d,e)},onContextMenu:function(){C()},onFocus:p},m),!e.rowGroup&&n().createElement(n().Fragment,null,n().createElement(e.formatter,{column:e,row:d,rowIdx:a,isCellSelected:t,onRowChange:w}),s))}d(".c6ra8a3700-beta7,.cq910m0700-beta7{background-color:#ccf}.cq910m0700-beta7.c6ra8a3700-beta7{background-color:#99f}.cjdi1s6700-beta7{background-color:rgba(0,120,215,.15)}",{insertAt:"top"});const V=(0,r.memo)($);d(".r1upfr80700-beta7{background-color:var(--background-color);contain:strict;contain:size layout style paint;display:grid;grid-template-columns:var(--template-columns);grid-template-rows:var(--row-height);height:var(--row-height);left:0;line-height:var(--row-height);position:absolute;width:var(--row-width)}.r1upfr80700-beta7:hover{background-color:var(--row-hover-background-color)}.r1upfr80700-beta7[aria-selected=true]{background-color:var(--row-selected-background-color)}.r1upfr80700-beta7[aria-selected=true]:hover{background-color:var(--row-selected-hover-background-color)}",{insertAt:"top"});const _="rdg-row r1upfr80700-beta7";function Y({className:e,rowIdx:o,selectedCellIdx:t,selectedCellRange:r,isRowSelected:l,copiedCellIdx:d,draggedOverCellIdx:a,lastFrozenColumnIndex:s,row:u,viewportColumns:f,selectedCellEditor:w,selectedCellDragHandle:x,onRowClick:m,onRowDoubleClick:h,rowClass:p,setDraggedOverRowIdx:b,onMouseEnter:C,top:I,height:y,onRowChange:k,selectCell:R,...E},S){const{className:z}=W(t),F=K(e=>{k(o,e)});e=i(_,"rdg-row-"+(o%2==0?"even":"odd"),z,null==p?void 0:p(u),e);const A=[];for(let e=0;e<f.length;e++){const l=f[e],{idx:i}=l,c=v(l,s,{type:"ROW",row:u});void 0!==c&&(e+=c-1);const g=t===i,p=null!=r&&i>=r.startIdx&&i<=r.endIdx;g&&w?A.push(w):A.push(n().createElement(V,{key:l.key,column:l,colSpan:c,row:u,rowIdx:o,isCopied:d===i,isDraggedOver:a===i,isCellSelected:g,isCellWithinSelectionRange:p,dragHandle:g?x:void 0,onRowClick:m,onRowDoubleClick:h,onRowChange:F,selectCell:R}))}return n().createElement(g,{value:l},n().createElement("div",c({role:"row",tabIndex:-1===t?0:-1,className:e,onMouseEnter:function(e){null==b||b(o),null==C||C(e)},style:{top:I,"--row-height":`${y}px`}},E),A))}const X=(0,r.forwardRef)(Y);function J({id:e,groupKey:o,childRows:t,isExpanded:r,isCellSelected:l,column:i,row:c,groupColumnIndex:d,toggleGroup:a}){const{ref:s,tabIndex:u,onFocus:f}=P(l);function w(){a(e)}const x=i.rowGroup&&d===i.idx;return n().createElement("div",{role:"gridcell","aria-colindex":i.idx+1,"aria-selected":l,ref:s,tabIndex:u,key:i.key,className:M(i),style:{...N(i),cursor:x?"pointer":"default"},onClick:x?w:void 0,onFocus:f},(!i.rowGroup||d===i.idx)&&i.groupFormatter&&n().createElement(i.groupFormatter,{groupKey:o,childRows:t,column:i,row:c,isExpanded:r,isCellSelected:l,toggleGroup:w}))}const Q=(0,r.memo)(J);function Z({id:e,groupKey:o,viewportColumns:t,childRows:r,rowIdx:l,row:d,top:a,height:s,level:u,isExpanded:f,selectedCellIdx:w,isRowSelected:x,selectGroup:m,toggleGroup:h,...p}){const{className:b}=W(w),v=t[0].key===L?u+1:u;return n().createElement(g,{value:x},n().createElement("div",c({role:"row","aria-level":u,"aria-expanded":f,tabIndex:-1===w?0:-1,className:i(_,"rdg-group-row g1yxluv3700-beta7","rdg-row-"+(l%2==0?"even":"odd"),b),onClick:function(){m(l)},style:{top:a,"--row-height":`${s}px`}},p),t.map(t=>n().createElement(Q,{key:t.key,id:e,groupKey:o,childRows:r,isExpanded:f,isCellSelected:w===t.idx,column:t,row:d,groupColumnIndex:v,toggleGroup:h}))))}d(".g1yxluv3700-beta7:not([aria-selected=true]){background-color:var(--header-background-color)}.g1yxluv3700-beta7>.cj343x0700-beta7:not(:last-child):not(.ch2wcw8700-beta7){border-right:none}",{insertAt:"top"});const ee=(0,r.memo)(Z);function oe({column:e,colSpan:o,row:t,isCellSelected:r,selectCell:l}){const{ref:i,tabIndex:c,onFocus:d}=P(r),{summaryFormatter:a,summaryCellClass:s}=e,u=M(e,"function"==typeof s?s(t):s);return n().createElement("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,"aria-selected":r,ref:i,tabIndex:c,className:u,style:N(e,o),onClick:function(){l(t,e)},onFocus:d},a&&n().createElement(a,{column:e,row:t,isCellSelected:r}))}const te=(0,r.memo)(oe);function re({rowIdx:e,row:o,viewportColumns:t,bottom:r,lastFrozenColumnIndex:l,selectedCellIdx:c,selectCell:d,"aria-rowindex":a}){const{className:s}=W(c),u=[];for(let e=0;e<t.length;e++){const r=t[e],i=v(r,l,{type:"SUMMARY",row:o});void 0!==i&&(e+=i-1);const a=c===r.idx;u.push(n().createElement(te,{key:r.key,column:r,colSpan:i,row:o,isCellSelected:a,selectCell:d}))}return n().createElement("div",{role:"row","aria-rowindex":a,tabIndex:-1===c?0:-1,className:i(_,"rdg-row-"+(e%2==0?"even":"odd"),"rdg-summary-row skuhp55700-beta7",s,0===e&&"sf8l5ub700-beta7"),style:{bottom:r}},u)}d(".skuhp55700-beta7.r1upfr80700-beta7{grid-template-rows:var(--summary-row-height);height:var(--summary-row-height);line-height:var(--summary-row-height);position:sticky;z-index:3}.sf8l5ub700-beta7>.cj343x0700-beta7{border-top:2px solid var(--summary-border-color)}",{insertAt:"top"});const ne=(0,r.memo)(re);function le({column:e,colSpan:o,row:t,rowIdx:l,onRowChange:i,onClose:c}){var d,a,s;const u=(0,r.useRef)(),f=!1!==(null===(d=e.editorOptions)||void 0===d?void 0:d.commitOnOutsideClick),w=K(()=>{i(t,l,!0)});function x(){cancelAnimationFrame(u.current)}(0,r.useEffect)(()=>{if(f)return addEventListener("mousedown",e,{capture:!0}),()=>{removeEventListener("mousedown",e,{capture:!0}),x()};function e(){u.current=requestAnimationFrame(w)}},[f,w]);const{cellClass:m}=e,g=M(e,"rdg-editor-container","function"==typeof m?m(t):m,!(null!==(a=e.editorOptions)&&void 0!==a&&a.renderFormatter)&&"cis5rrm700-beta7");return n().createElement("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,"aria-selected":!0,className:g,style:N(e,o),onMouseDownCapture:f?x:void 0},null!=e.editor&&n().createElement(n().Fragment,null,n().createElement(e.editor,{column:e,row:t,rowIdx:l,onRowChange:i,onClose:c}),(null===(s=e.editorOptions)||void 0===s?void 0:s.renderFormatter)&&n().createElement(e.formatter,{column:e,row:t,rowIdx:l,isCellSelected:!0,onRowChange:i})))}function ie({rows:e,columns:o,selectedPosition:t,latestDraggedOverRowIdx:r,isCellEditable:l,onRowsChange:i,onFill:c,setDragging:d,setDraggedOverRowIdx:a}){function s(r,n){const{idx:d,rowIdx:a}=t,s=o[d],u=e[a],f=[...e],w=[];for(let o=r;o<n;o++)if(l({rowIdx:o,idx:d})){const t=c({columnKey:s.key,sourceRow:u,targetRow:e[o]});t!==e[o]&&(f[o]=t,w.push(o))}w.length>0&&(null==i||i(f,{indexes:w,column:s}))}return n().createElement("div",{className:"rdg-cell-drag-handle c1w9bbhr700-beta7",onMouseDown:function(e){function o(e){1!==e.buttons&&n()}function n(){window.removeEventListener("mouseover",o),window.removeEventListener("mouseup",n),d(!1),function(){const e=r.current;if(void 0===e)return;const{rowIdx:o}=t;s(o<e?o+1:e,o<e?e+1:o),a(void 0)}()}1===e.buttons&&(d(!0),window.addEventListener("mouseover",o),window.addEventListener("mouseup",n))},onDoubleClick:function(o){o.stopPropagation(),s(t.rowIdx+1,e.length)}})}d(".cis5rrm700-beta7.rdg-cell{padding:0}",{insertAt:"top"}),d(".c1w9bbhr700-beta7{background-color:var(--selection-color);bottom:0;cursor:move;height:8px;position:absolute;right:0;width:8px}.c1w9bbhr700-beta7:hover{background-color:var(--background-color);border:2px solid var(--selection-color);height:16px;width:16px}",{insertAt:"top"});const ce={idx:-1,rowIdx:-2,mode:"SELECT"};function de({columns:e,rows:o,summaryRows:t,rowKeyGetter:l,onRowsChange:c,rowHeight:d,headerRowHeight:u,summaryRowHeight:f,selectedRows:m,onSelectedRowsChange:g,sortColumns:h,onSortColumnsChange:b,defaultColumnOptions:C,groupBy:E,rowGrouper:N,expandedGroupIds:M,onExpandedGroupIdsChange:G,selection:P,onSelectionChange:W,onRowClick:j,onRowDoubleClick:B,onScroll:q,onColumnResize:$,onFill:V,onPaste:_,multiSelectionMode:X=!1,cellNavigationMode:J,enableVirtualization:Q,rowRenderer:Z,noRowsFallback:oe,className:te,style:re,rowClass:de,"aria-label":ae,"aria-labelledby":se,"aria-describedby":ue,"data-testid":fe},we){var xe;d??=35;const me=null!=u?u:"number"==typeof d?d:35,ge=null!=f?f:"number"==typeof d?d:35,he=null!=Z?Z:Y,pe=null!=J?J:"NONE";Q??=!0;const[be,ve]=(0,r.useState)(null!=P?P:ce),Ce=null!=P,Ie=null!=P?P:be,[ye,ke]=(0,r.useState)(0),[Re,Ee]=(0,r.useState)(0),[Se,ze]=(0,r.useState)(()=>new Map),[Fe,Ae]=(0,r.useState)(null),[Oe,De]=(0,r.useState)(),[Ne,Me]=(0,r.useState)(!1),[Le,Ge]=(0,r.useState)(void 0),Te=(0,r.useRef)(Ie),He=(0,r.useRef)(Le),Ke=(0,r.useRef)(-1),Pe=(0,r.useRef)(void 0),We=(0,r.useRef)(!1),je=(0,r.useRef)(!1),[Be,qe,Ue]=function(){const e=(0,r.useRef)(null),[o,t]=(0,r.useState)(1),[n,l]=(0,r.useState)(1);return a(()=>{const{ResizeObserver:o}=window;if(null==o)return;const r=new o(()=>{const{clientWidth:o,clientHeight:r}=e.current;t(o-(devicePixelRatio%1==0?0:1)),l(r)});return r.observe(e.current),()=>{r.disconnect()}},[]),[e,o,n]}(),$e=null!==(xe=null==t?void 0:t.length)&&void 0!==xe?xe:0,Ve=Ue-me-$e*ge,_e=null!=m&&null!=g,Ye=-1===Ie.rowIdx,Xe=(e=>{const o=(0,r.useRef)(document.activeElement===e.current),t=()=>{o.current=!0},n=()=>{o.current=!0};return(0,r.useEffect)(()=>{const o=e.current;if(o)return o.addEventListener("focusin",t),o.addEventListener("focusout",n),()=>{o.removeEventListener("focusin",t),o.removeEventListener("focusout",n)}},[]),o})(Be),Je=(0,r.useMemo)(()=>{const{length:e}=o;return 0!==e&&null!=m&&null!=l&&m.size>=e&&o.every(e=>m.has(l(e)))},[o,m,l]),{columns:Qe,colSpanColumns:Ze,colOverscanStartIdx:eo,colOverscanEndIdx:oo,layoutCssVars:to,columnMetrics:ro,totalColumnWidth:no,lastFrozenColumnIndex:lo,totalFrozenColumnWidth:io,groupBy:co}=function({rawColumns:e,columnWidths:o,viewportWidth:t,scrollLeft:n,defaultColumnOptions:l,rawGroupBy:i,enableVirtualization:c}){var d,a,s,u;const f=null!==(d=null==l?void 0:l.minWidth)&&void 0!==d?d:80,m=null!==(a=null==l?void 0:l.formatter)&&void 0!==a?a:w,g=null!==(s=null==l?void 0:l.sortable)&&void 0!==s&&s,h=null!==(u=null==l?void 0:l.resizable)&&void 0!==u&&u,{columns:p,colSpanColumns:b,lastFrozenColumnIndex:v,groupBy:C}=(0,r.useMemo)(()=>{const o=[];let t=-1;const r=e.map(e=>{var o,r,n,l;const c=null!==(o=null==i?void 0:i.includes(e.key))&&void 0!==o&&o,d=c||e.frozen||!1,a={...e,idx:0,frozen:d,isLastFrozenColumn:!1,rowGroup:c,sortable:null!==(r=e.sortable)&&void 0!==r?r:g,resizable:null!==(n=e.resizable)&&void 0!==n?n:h,formatter:null!==(l=e.formatter)&&void 0!==l?l:m};return c&&(a.groupFormatter??=x),d&&t++,a});r.sort(({key:e,frozen:o},{key:t,frozen:r})=>e===L?-1:t===L?1:null!=i&&i.includes(e)?i.includes(t)?i.indexOf(e)-i.indexOf(t):-1:null!=i&&i.includes(t)?1:o?r?0:-1:r?1:0);const n=[];return r.forEach((e,t)=>{e.idx=t,e.rowGroup&&o.push(e.key),null!=e.colSpan&&n.push(e)}),-1!==t&&(r[t].isLastFrozenColumn=!0),{columns:r,colSpanColumns:n,lastFrozenColumnIndex:t,groupBy:o}},[e,m,h,g,i]),{layoutCssVars:I,totalColumnWidth:y,totalFrozenColumnWidth:k,columnMetrics:R}=(0,r.useMemo)(()=>{const e=new Map;let r=0,n=0,l=0,i="",c=0,d=0;for(const r of p){let n=T(r,o,t);void 0===n?d++:(n=H(n,r,f),c+=n,e.set(r,{width:n,left:0}))}const a=(t-c)/d;for(const o of p){let t;if(e.has(o)){const n=e.get(o);n.left=r,({width:t}=n)}else t=H(a,o,f),e.set(o,{width:t,left:r});n+=t,r+=t,i+=`${t}px `}if(-1!==v){const o=e.get(p[v]);l=o.left+o.width}const s={"--template-columns":i};for(let o=0;o<=v;o++){const t=p[o];s[`--frozen-left-${t.idx}`]=`${e.get(t).left}px`}return{layoutCssVars:s,totalColumnWidth:n,totalFrozenColumnWidth:l,columnMetrics:e}},[o,p,t,f,v]),[E,S]=(0,r.useMemo)(()=>{if(!c)return[0,p.length-1];const e=n+k,o=n+t,r=p.length-1,l=z(v+1,r);if(e>=o)return[l,l];let i=l;for(;i<r;){const{left:o,width:t}=R.get(p[i]);if(o+t>e)break;i++}let d=i;for(;d<r;){const{left:e,width:t}=R.get(p[d]);if(e+t>=o)break;d++}return[F(l,i-1),z(r,d+1)]},[R,p,v,n,k,t,c]);return{columns:p,colSpanColumns:b,colOverscanStartIdx:E,colOverscanEndIdx:S,layoutCssVars:I,columnMetrics:R,totalColumnWidth:y,lastFrozenColumnIndex:v,totalFrozenColumnWidth:k,groupBy:C}}({rawColumns:e,columnWidths:Se,scrollLeft:Re,viewportWidth:qe,defaultColumnOptions:C,rawGroupBy:N?E:void 0,enableVirtualization:Q}),{rowOverscanStartIdx:ao,rowOverscanEndIdx:so,rows:uo,rowsCount:fo,totalRowHeight:wo,isGroupRow:xo,getRowTop:mo,getRowHeight:go,findRowIdx:ho}=function({rawRows:e,rowHeight:o,clientHeight:t,scrollTop:n,groupBy:l,rowGrouper:i,expandedGroupIds:c,enableVirtualization:d}){const[a,s]=(0,r.useMemo)(()=>{if(0===l.length||null==i)return[void 0,e.length];const o=(e,[t,...r],n)=>{let l=0;const c={};for(const[d,a]of Object.entries(i(e,t))){const[e,t]=0===r.length?[a,a.length]:o(a,r,n+l+1);c[d]={childRows:a,childGroups:e,startRowIndex:n+l},l+=t+1}return[c,l]};return o(e,l,0)},[l,i,e]),[u,f]=(0,r.useMemo)(()=>{const o=new Set;if(!a)return[e,n];const t=[],r=(e,n,l)=>{var i;i=e,Array.isArray(i)?t.push(...e):Object.keys(e).forEach((i,d,a)=>{var s;const u=void 0!==n?`${n}__${i}`:i,f=null!==(s=null==c?void 0:c.has(u))&&void 0!==s&&s,{childRows:w,childGroups:x,startRowIndex:m}=e[i],g={id:u,parentId:n,groupKey:i,isExpanded:f,childRows:w,level:l,posInSet:d,startRowIndex:m,setSize:a.length};t.push(g),o.add(g),f&&r(x,u,l+1)})};return r(a,void 0,0),[t,n];function n(e){return o.has(e)}},[c,a,e]),{totalRowHeight:w,getRowTop:x,getRowHeight:m,findRowIdx:g}=(0,r.useMemo)(()=>{if("number"==typeof o)return{totalRowHeight:o*u.length,getRowTop:e=>e*o,getRowHeight:()=>o,findRowIdx:e=>A(e/o)};let e=0;const t=u.map(t=>{const r=f(t)?o({type:"GROUP",row:t}):o({type:"ROW",row:t}),n={top:e,height:r};return e+=r,n}),r=e=>F(0,z(u.length-1,e));return{totalRowHeight:e,getRowTop:e=>t[r(e)].top,getRowHeight:e=>t[r(e)].height,findRowIdx(e){let o=0,r=t.length-1;for(;o<=r;){const n=o+A((r-o)/2),l=t[n].top;if(l===e)return n;if(l<e?o=n+1:l>e&&(r=n-1),o>r)return r}return 0}}},[f,o,u]);let h=0,p=u.length-1;if(d){const e=4,o=g(n),r=g(n+t);h=F(0,o-e),p=z(u.length-1,r+e)}return{rowOverscanStartIdx:h,rowOverscanEndIdx:p,rows:u,rowsCount:s,totalRowHeight:w,isGroupRow:f,getRowTop:x,getRowHeight:m,findRowIdx:g}}({rawRows:o,groupBy:co,rowGrouper:N,rowHeight:d,clientHeight:Ve,scrollTop:ye,expandedGroupIds:M,enableVirtualization:Q}),po=function({columns:e,colSpanColumns:o,rows:t,summaryRows:n,colOverscanStartIdx:l,colOverscanEndIdx:i,lastFrozenColumnIndex:c,rowOverscanStartIdx:d,rowOverscanEndIdx:a,isGroupRow:s}){const u=(0,r.useMemo)(()=>{if(0===l)return 0;let e=l;const r=(o,t)=>void 0!==t&&o+t>l&&(e=o,!0);for(const l of o){const o=l.idx;if(o>=e)break;if(r(o,v(l,c,{type:"HEADER"})))break;for(let e=d;e<=a;e++){const n=t[e];if(!s(n)&&r(o,v(l,c,{type:"ROW",row:n})))break}if(null!=n)for(const e of n)if(r(o,v(l,c,{type:"SUMMARY",row:e})))break}return e},[d,a,t,n,l,c,o,s]);return(0,r.useMemo)(()=>{const o=[];for(let t=0;t<=i;t++){const r=e[t];t<u&&!r.frozen||o.push(r)}return o},[u,i,e])}({columns:Qe,colSpanColumns:Ze,colOverscanStartIdx:eo,colOverscanEndIdx:oo,lastFrozenColumnIndex:lo,rowOverscanStartIdx:ao,rowOverscanEndIdx:so,rows:uo,summaryRows:t,isGroupRow:xo}),bo=co.length>0&&"function"==typeof N,vo=bo?-1:0,Co=Qe.length-1,Io=1+uo.length+$e-2,yo=Xo(Ie),ko=Jo(Ie);function Ro(e,o){return e===o||null!=e&&null!=o&&e.startIdx===o.startIdx&&e.endIdx===o.endIdx&&e.startRowIdx===o.startRowIdx&&e.endRowIdx===o.endRowIdx}function Eo(e){if(Jo(e))return{startIdx:e.idx,endIdx:e.idx,startRowIdx:e.rowIdx,endRowIdx:e.rowIdx}}function So(){return(Array.isArray(Ie.ranges)?Ie.ranges.map(e=>null==e?void 0:e.rowIdx).filter(e=>Number.isInteger(e)):[]).filter(e=>Yo(e))}function zo(e){if(!(null==Oe||e<Oe.startRowIdx||e>Oe.endRowIdx))return{startIdx:Oe.startIdx,endIdx:Oe.endIdx}}function Fo(e,o){const t=function(e,o){if(null==e)return Yo(o.rowIdx)?[{rowIdx:o.rowIdx}]:[];const t=Math.max(e.startRowIdx,0),r=Math.min(e.endRowIdx,uo.length-1);if(t>r)return[];const n=[];for(let e=t;e<=r;e++)n.push({rowIdx:e});return n}(o,e),r={...e,ranges:t};Ce||ve(r),null==W||W(r)}const Ao=K(Po),Oo=K(function(e){if(!g)return;D(l);const t=new Set(m);for(const r of o){const o=l(r);e?t.add(o):t.delete(o)}g(t)}),Do=K(qo),No=K((e,o,t)=>{Zo({rowIdx:uo.indexOf(e),idx:o.idx},t)}),Mo=K(e=>{Zo({rowIdx:e,idx:-1})}),Lo=K(e=>{Zo({rowIdx:-1,idx:e})}),Go=K((e,o)=>{Zo({rowIdx:t.indexOf(e)+1+uo.length-1,idx:o.idx})}),To=K(Wo);a(()=>{yo&&Ie!==Te.current&&"EDIT"!==Ie.mode&&(Te.current=Ie,ot(Ie))}),a(()=>{if(!ko)return Pe.current=void 0,void De(void 0);const e={idx:Ie.idx,rowIdx:Ie.rowIdx},o=So();if(o.length>0){const t=Math.min(...o),r=F(...o),n=o.length>1,l=Pe.current&&Jo(Pe.current)?Pe.current:e,i={startIdx:"rows"===X&&n?vo:Math.min(l.idx,e.idx),endIdx:"rows"===X&&n?Co:F(l.idx,e.idx),startRowIdx:t,endRowIdx:r};return void De(e=>Ro(e,i)?e:i)}De(o=>null!=o&&function(e,o){const{idx:t,rowIdx:r}=e;return t>=o.startIdx&&t<=o.endIdx&&r>=o.startRowIdx&&r<=o.endRowIdx}(e,o)?o:(Pe.current=e,Eo(e)))},[ko,X,vo,Co,Ie.idx,Ie.rowIdx,Ie.ranges]),a(()=>{function e(){We.current=!1}return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]),(0,r.useImperativeHandle)(we,()=>({element:Be.current,scrollToColumn(e){ot({idx:e})},scrollToRow(e){const{current:o}=Be;o&&o.scrollTo({top:mo(e),behavior:"smooth"})},selectCell:Zo}));const Ho=(0,r.useCallback)((e,o)=>{ze(t=>{const r=new Map(t);return r.set(e.key,o),r}),null==$||$(e.idx,o)},[$]),Ko=(0,r.useCallback)(e=>{Ge(e),He.current=e},[]);function Po({row:e,checked:o,isShiftClick:t}){if(!g)return;D(l);const r=new Set(m);if(xo(e)){for(const t of e.childRows){const e=l(t);o?r.add(e):r.delete(e)}return void g(r)}const n=l(e);if(o){r.add(n);const o=Ke.current,i=uo.indexOf(e);if(Ke.current=i,t&&-1!==o&&o!==i){const e=O(i-o);for(let t=o+e;t!==i;t+=e){const e=uo[t];xo(e)||r.add(l(e))}}}else r.delete(n),Ke.current=-1;g(r)}function Wo(e){if(!G)return;const o=new Set(M);o.has(e)?o.delete(e):o.add(e),G(o)}function jo(e){if(!(e instanceof Element))return;const o=e.closest('[role="gridcell"]');if(null==o)return;const t=Number(o.getAttribute("data-idx")),r=Number(o.getAttribute("data-rowidx"));return Number.isInteger(t)&&Number.isInteger(r)?{idx:t,rowIdx:r}:void 0}function Bo(e){return bo?o.indexOf(uo[e]):e}function qo(e,t){if("function"!=typeof c)return;const r=Bo(e);if(t===o[r])return;const n=[...o];n[r]=t,c(n,{indexes:[r],column:Qe[Ie.idx]})}function Uo(){var e;null!=(null===(e=Qe[Ie.idx])||void 0===e?void 0:e.editor)&&"SELECT"!==Ie.mode&&qo(Ie.rowIdx,o[Bo(Ie.rowIdx)])}function $o(e,o,t){"SELECT"!==Ie.mode&&(t?(qo(Ie.rowIdx,e),et()):Fo(Ie,Oe))}function Vo(e){e&&Uo(),et()}function _o(e){return e>=vo&&e<=Co}function Yo(e){return e>=0&&e<uo.length}function Xo({idx:e,rowIdx:o}){return o>=-1&&o<=Io&&_o(e)}function Jo({idx:e,rowIdx:o}){return Yo(o)&&_o(e)}function Qo(e){return Jo(e)&&R({columns:Qe,rows:uo,selectedPosition:e,isGroupRow:xo})}function Zo(e,o,t=!1){if(!Xo(e))return;let r;if(Uo(),Jo(e))if(t){var n;const o=Pe.current&&Jo(Pe.current)?Pe.current:Jo(Ie)?{idx:Ie.idx,rowIdx:Ie.rowIdx}:e;Pe.current=o,r=null!==(n=function(e,o){if(Jo(e)&&Jo(o))return{startIdx:Math.min(e.idx,o.idx),endIdx:Math.max(e.idx,o.idx),startRowIdx:Math.min(e.rowIdx,o.rowIdx),endRowIdx:Math.max(e.rowIdx,o.rowIdx)}}(o,e))&&void 0!==n?n:Eo(e)}else Pe.current=e,r=Eo(e);else Pe.current=void 0,r=void 0;De(r),o&&Qo(e)?Fo({...e,mode:"EDIT"},r):"SELECT"===Ie.mode&&Ie.idx===e.idx&&Ie.rowIdx===e.rowIdx&&Ro(Oe,r)||Fo({...e,mode:"SELECT"},r)}function et(){"SELECT"!==Ie.mode&&Fo({idx:Ie.idx,rowIdx:Ie.rowIdx,mode:"SELECT"},Oe)}function ot({idx:e,rowIdx:o}){const{current:r}=Be;if(r){if("number"==typeof e&&e>lo){if(o??=Ie.rowIdx,void 0===o||!Xo({rowIdx:o,idx:e}))return;const{clientWidth:n}=r,l=Qe[e],{left:i,width:c}=ro.get(l);let d=i+c;const a=S({rows:uo,summaryRows:t,rowIdx:o,lastFrozenColumnIndex:lo,column:l,isGroupRow:xo});if(void 0!==a){const{left:e,width:o}=ro.get(Qe[l.idx+a-1]);d=e+o}const s=d>n+Re;i<Re+io?r.scrollLeft=i-io:s&&(r.scrollLeft=d-n)}if("number"==typeof o&&Yo(o)){const e=mo(o),t=go(o);e<ye?r.scrollTop=e:e+t>ye+Ve&&(r.scrollTop=e+t-Ve)}}}function tt(e){if(void 0===Le)return;const{rowIdx:o}=Ie;return(o<Le?o<e&&e<=Le:o>e&&e>=Le)?Ie.idx:void 0}function rt(e){if(Ie.rowIdx===e&&"EDIT"!==Ie.mode&&!bo&&null!=V)return n().createElement(ie,{rows:o,columns:Qe,selectedPosition:Ie,isCellEditable:Qo,latestDraggedOverRowIdx:He,onRowsChange:c,onFill:V,setDragging:Me,setDraggedOverRowIdx:Ko})}function nt(e){if(Ie.rowIdx!==e||"SELECT"===Ie.mode)return;const{idx:t}=Ie,r=Qe[t],l=o[Bo(e)],i=v(r,lo,{type:"ROW",row:l});return n().createElement(le,{key:r.key,column:r,colSpan:i,row:l,rowIdx:e,onRowChange:$o,onClose:Vo})}return(Ie.idx>Co||Ie.rowIdx>Io)&&(Fo(ce,void 0),Ko(void 0)),n().createElement(s.Provider,{value:Xe},n().createElement("div",{role:bo?"treegrid":"grid","aria-label":ae,"aria-labelledby":se,"aria-describedby":ue,"aria-multiselectable":!(!_e&&"rows"!==X)||void 0,"aria-colcount":Qe.length,"aria-rowcount":1+fo+$e,className:i("rdg rnvodz5700-beta7",te,Ne&&"rdg-viewport-dragging vlqv91k700-beta7"),style:{...re,"--header-row-height":`${me}px`,"--row-width":`${no}px`,"--summary-row-height":`${ge}px`,...to},ref:Be,onScroll:function(e){const{scrollTop:o,scrollLeft:t}=e.currentTarget;ke(o),Ee(t),null==q||q(e)},onKeyDown:function(e){if(!(e.target instanceof Element))return;const r=null!==e.target.closest(".rdg-cell"),n=bo&&e.target.matches(".rdg-row, .rdg-header-row");if(!r&&!n)return;const{key:i,keyCode:d}=e,{rowIdx:a}=Ie;if(ko&&null!=_&&y(e)&&!xo(uo[a])&&"SELECT"===Ie.mode){const e=86;if(67===d)return void function(){const{idx:e,rowIdx:t}=Ie;Ae({row:o[Bo(t)],columnKey:Qe[e].key})}();if(d===e)return void function(){if(!_||!c||null===Fe||!Qo(Ie))return;const{idx:e,rowIdx:t}=Ie,r=o[Bo(t)];qo(t,_({sourceRow:Fe.row,sourceColumnKey:Fe.columnKey,targetRow:r,targetColumnKey:Qe[e].key}))}()}if(Yo(a)){const o=uo[a];if(xo(o)&&-1===Ie.idx&&("ArrowLeft"===i&&o.isExpanded||"ArrowRight"===i&&!o.isExpanded))return e.preventDefault(),void Wo(o.id)}switch(e.key){case"Escape":return Ae(null),void et();case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":!function(e){var o,r;if("EDIT"===Ie.mode&&!(null!==(o=null===(r=Qe[Ie.idx].editorOptions)||void 0===r?void 0:r.onNavigation)&&void 0!==o?o:k)(e))return;const{key:n,shiftKey:l}=e;let i=pe;if("Tab"===n){if(function({cellNavigationMode:e,maxColIdx:o,minRowIdx:t,maxRowIdx:r,selectedPosition:{rowIdx:n,idx:l},shiftKey:i}){return("NONE"===e||"CHANGE_ROW"===e)&&(i?0===l&&n===t:l===o&&n===r)}({shiftKey:l,cellNavigationMode:pe,maxColIdx:Co,minRowIdx:-1,maxRowIdx:Io,selectedPosition:Ie}))return void Uo();i="NONE"===pe?"CHANGE_ROW":pe}e.preventDefault();const c=function(e,o,t){const{idx:r,rowIdx:n}=Ie,l=uo[n],i=yo&&-1===r;if("ArrowLeft"===e&&i&&xo(l)&&!l.isExpanded&&0!==l.level){let e=-1;for(let o=Ie.rowIdx-1;o>=0;o--){const t=uo[o];if(xo(t)&&t.id===l.parentId){e=o;break}}if(-1!==e)return{idx:r,rowIdx:e}}switch(e){case"ArrowUp":return{idx:r,rowIdx:n-1};case"ArrowDown":return{idx:r,rowIdx:n+1};case"ArrowLeft":return{idx:r-1,rowIdx:n};case"ArrowRight":return{idx:r+1,rowIdx:n};case"Tab":return{idx:r+(t?-1:1),rowIdx:n};case"Home":return i?{idx:r,rowIdx:0}:{idx:0,rowIdx:o?-1:n};case"End":return i?{idx:r,rowIdx:uo.length-1}:{idx:Co,rowIdx:o?Io:n};case"PageUp":{if(-1===Ie.rowIdx)return Ie;const e=mo(n)+go(n)-Ve;return{idx:r,rowIdx:e>0?ho(e):0}}case"PageDown":{if(Ie.rowIdx>=uo.length)return Ie;const e=mo(n)+Ve;return{idx:r,rowIdx:e<wo?ho(e):uo.length-1}}default:return Ie}}(n,y(e),l);c.rowIdx===Ie.rowIdx&&c.idx===Ie.idx||Zo(function({cellNavigationMode:e,columns:o,colSpanColumns:t,rows:r,summaryRows:n,minRowIdx:l,maxRowIdx:i,currentPosition:{idx:c},nextPosition:d,lastFrozenColumnIndex:a,isCellWithinBounds:s,isGroupRow:u}){let{idx:f,rowIdx:w}=d;const x=e=>{if(w>=0&&w<r.length){const e=r[w];if(u(e))return}for(const o of t){const t=o.idx;if(t>f)break;const l=S({rows:r,summaryRows:n,rowIdx:w,lastFrozenColumnIndex:a,column:o,isGroupRow:u});if(l&&f>t&&f<l+t){f=t+(e?l:0);break}}};if(s(d)&&x(f-c>0),"NONE"!==e){const t=o.length,r=-1===f;f===t?"CHANGE_ROW"===e?w===i||(f=0,w+=1):f=0:r&&("CHANGE_ROW"===e?w===l||(w-=1,f=t-1):f=t-1,x(!1))}return{idx:f,rowIdx:w}}({columns:Qe,colSpanColumns:Ze,rows:uo,summaryRows:t,minRowIdx:-1,maxRowIdx:Io,lastFrozenColumnIndex:lo,cellNavigationMode:i,currentPosition:Ie,nextPosition:c,isCellWithinBounds:Xo,isGroupRow:xo}),!1,l&&"Tab"!==n)}(e);break;default:!function(e){var o,t;if(!ko)return;const r=uo[Ie.rowIdx];if(xo(r))return;const{key:n,shiftKey:i}=e;if("EDIT"===Ie.mode)return void("Enter"===n&&(Uo(),et()));if(_e&&i&&" "===n){D(l);const o=l(r);return Po({row:r,checked:!m.has(o),isShiftClick:!1}),void e.preventDefault()}null===(o=Qe[Ie.idx].editorOptions)||void 0===o||null===(t=o.onCellKeyDown)||void 0===t||t.call(o,e),e.isDefaultPrevented()||Qo(Ie)&&function(e){return!I.has(e.key)}(e)&&Fo({idx:Ie.idx,rowIdx:Ie.rowIdx,mode:"EDIT"},Oe)}(e)}},onMouseDownCapture:function(e){if(je.current=!1,0!==e.button||"EDIT"===Ie.mode||Ne)return;const o=jo(e.target);null!=o&&(We.current=!0,je.current=!0,Zo(o,!1,e.shiftKey))},onMouseOverCapture:function(e){if(!We.current||"EDIT"===Ie.mode||Ne)return;if(1&~e.buttons)return void(We.current=!1);const o=jo(e.target);null!=o&&Zo(o,!1,!0)},onClickCapture:function(e){e.nativeEvent.rdgSelectionHandledOnMouseDown=je.current,je.current=!1},onMouseUpCapture:function(){We.current=!1},"data-testid":fe},n().createElement(U,{columns:po,onColumnResize:Ho,allRowsSelected:Je,onAllRowsSelectionChange:Oo,sortColumns:h,onSortColumnsChange:b,lastFrozenColumnIndex:lo,selectedCellIdx:Ye?Ie.idx:void 0,selectCell:Lo,shouldFocusGrid:!yo}),0===uo.length&&oe?oe:n().createElement(n().Fragment,null,n().createElement("div",{style:{height:F(wo,Ve)}}),n().createElement(p,{value:Ao},function(){const e=[];let o=0;const{idx:t,rowIdx:r}=Ie,i="rows"===X?new Set(So()):new Set,c=r>=0&&t>=0,d="rows"===X&&(i.size>1||i.size>0&&!c),a=ko&&r>so?so+1:so;for(let c=ko&&r<ao?ao-1:ao;c<=a;c++){const a=c===ao-1||c===so+1,u=a?r:c;let f=po;const w=Qe[t];void 0!==w&&(a?f=[w]:r!==u||po.includes(w)||(f=t>po[po.length-1].idx?[...po,w]:[...po.slice(0,lo+1),w,...po.slice(lo+1)]));const x=uo[u],g=mo(u)+me;if(xo(x)){({startRowIndex:o}=x);const c=d&&i.has(u)||_e&&x.childRows.every(e=>m.has(l(e)));e.push(n().createElement(ee,{"aria-level":x.level+1,"aria-setsize":x.setSize,"aria-posinset":x.posInSet+1,"aria-rowindex":1+o+1,"aria-selected":!!c||void 0,key:x.id,id:x.id,groupKey:x.groupKey,viewportColumns:f,childRows:x.childRows,rowIdx:u,row:x,top:g,height:go(u),level:x.level,isExpanded:x.isExpanded,selectedCellIdx:r===u?t:void 0,isRowSelected:c,selectGroup:Mo,toggleGroup:To}));continue}let h;o++;let p=d&&i.has(u);var s;"function"==typeof l?(h=l(x),p||=null!==(s=null==m?void 0:m.has(h))&&void 0!==s&&s):h=bo?o:u,e.push(he({"aria-rowindex":1+(bo?o:u)+1,"aria-selected":!!p||void 0,key:h,rowIdx:u,row:x,viewportColumns:f,isRowSelected:p,onRowClick:j,onRowDoubleClick:B,rowClass:de,top:g,height:go(u),copiedCellIdx:null!==Fe&&Fe.row===x?Qe.findIndex(e=>e.key===Fe.columnKey):void 0,selectedCellRange:d?void 0:zo(u),selectedCellIdx:r===u?t:void 0,draggedOverCellIdx:tt(u),setDraggedOverRowIdx:Ne?Ko:void 0,lastFrozenColumnIndex:lo,onRowChange:Do,selectCell:No,selectedCellDragHandle:rt(u),selectedCellEditor:nt(u)}))}return e}()),null==t?void 0:t.map((e,o)=>{const r=Ie.rowIdx===1+uo.length+o-1;return n().createElement(ne,{"aria-rowindex":1+fo+o+1,key:o,rowIdx:o,row:e,bottom:ge*(t.length-1-o),viewportColumns:po,lastFrozenColumnIndex:lo,selectedCellIdx:r?Ie.idx:void 0,selectCell:Go})}))))}const ae=(0,r.forwardRef)(de);function se(e){null==e||e.focus(),null==e||e.select()}function ue({row:e,rowIdx:o,column:t,onRowChange:r,onClose:l}){return n().createElement("input",{className:"rdg-text-editor t1u15qzo700-beta7",ref:se,value:e[t.key],onChange:n=>r({...e,[t.key]:n.target.value},o),onBlur:()=>l(!0)})}d(".t1u15qzo700-beta7{appearance:none;background-color:var(--background-color);border:2px solid #ccc;box-sizing:border-box;color:var(--color);font-family:inherit;font-size:var(--font-size);height:100%;padding:0 6px;vertical-align:top;width:100%}.t1u15qzo700-beta7:focus{border-color:var(--selection-color);outline:none}.t1u15qzo700-beta7::placeholder{color:#999;opacity:1}",{insertAt:"top"})}}]);